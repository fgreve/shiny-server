colnames(df) = c("year", "CPI")
df$country = country
return(df)
}
# Get dimension code of CPI dataset
CPI.available.codes <- DataStructureMethod("CPI")
# Available dimension code
names(CPI.available.codes)
# Possible code in the first dimension
CPI.available.codes[[1]]
# All countries
country = CPI.available.codes[['CL_AREA_CPI']]$CodeValue
n = length(country)
datalist = list()
# loop to get all countries CPIs
for (i in 1:n) {
dat <- get_cpi("CL")
dat$i <- country[i]
datalist[[i]] <- dat
}
# get 1 dataframe with all countries
cpi_countries = do.call(rbind, datalist)
library(IMFData)
# available datasets
availableDB <- DataflowMethod()
# function to get each country CPI
get_cpi <- function(country) {
databaseID <- "CPI"
startdate = "2000-01-01"
enddate = "2020-01-01"
checkquery = FALSE
queryfilter <- list(CL_FREA = "A", CL_AREA_CPI = country, CL_INDICATOR_CPI = "PCPI_PC_CP_A_PT")
CPI.query <- CompactDataMethod(databaseID, queryfilter, startdate, enddate, checkquery)
df = data.frame(CPI.query$Obs[1])
colnames(df) = c("year", "CPI")
df$country = country
return(df)
}
# Get dimension code of CPI dataset
CPI.available.codes <- DataStructureMethod("CPI")
# Available dimension code
names(CPI.available.codes)
# Possible code in the first dimension
CPI.available.codes[[1]]
# All countries
country = CPI.available.codes[['CL_AREA_CPI']]$CodeValue
n = length(country)
datalist = list()
# loop to get all countries CPIs
for (i in 1:n) {
dat <- get_cpi("CL")
dat$i <- country[i]
datalist[[i]] <- dat
}
# get 1 dataframe with all countries
cpi_countries = do.call(rbind, datalist)
library(IMFData)
# available datasets
availableDB <- DataflowMethod()
# function to get each country CPI
get_cpi <- function(country) {
databaseID <- "CPI"
startdate = "2000-01-01"
enddate = "2020-01-01"
checkquery = FALSE
queryfilter <- list(CL_FREA = "A", CL_AREA_CPI = country, CL_INDICATOR_CPI = "PCPI_PC_CP_A_PT")
CPI.query <- CompactDataMethod(databaseID, queryfilter, startdate, enddate, checkquery)
df = data.frame(CPI.query$Obs[1])
colnames(df) = c("year", "CPI")
df$country = country
return(df)
}
# Get dimension code of CPI dataset
CPI.available.codes <- DataStructureMethod("CPI")
# Available dimension code
names(CPI.available.codes)
# Possible code in the first dimension
CPI.available.codes[[1]]
# All countries
country = CPI.available.codes[['CL_AREA_CPI']]$CodeValue
n = length(country)
datalist = list()
# loop to get all countries CPIs
for (i in 1:n) {
print(country[i])
dat <- get_cpi("CL")
dat$i <- country[i]
datalist[[i]] <- dat
}
# get 1 dataframe with all countries
cpi_countries = do.call(rbind, datalist)
df = get_cpi("AR")
View(df)
getwd()
install.packages("rstudioapi")
install.packages("rstudioapi")
install.packages("rstudioapi")
install.packages("rstudioapi")
install.packages("rstudioapi")
data = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv", row.names=1)
data = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv")
View(data)
class(data)
rm(list=ls()) # remove all variables
df = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv")
View(df)
df = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv", check.names = FALSE)
View(df)
df = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
dim(df)
df = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
head(df)
series = df %>% select(-Region,-"Codigo region")
install.packages("tidyverse")
library(dplyr) #
series = df %>% select(-Region,-"Codigo region")
View(series)
series = df %>% select(-Region,-"Codigo region",-Comuna,-Poblacion)
View(series)
series = df %>% select(-Region,-"Codigo region",-Comuna,-Poblacion) %>% gather("Codigo comuna", "cases", -1)
library(tidyr)
series = df %>% select(-Region,-"Codigo region",-Comuna,-Poblacion) %>% gather("Codigo comuna", "cases", -1)
View(series)
View(series)
series = df %>% select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>% gather("Codigo comuna", "cases")
View(series)
series = df %>% select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>% gather("day", "cases",-1)
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("day", "cases",-1)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("day", "cases",-1)
library(dplyr) # tidyverse
library(tidyr)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("day", "cases",-1)
df = minsal %>% select(Region,"Codigo region",Comuna,"Codigo comuna",Poblacion,Tasa) %>% merge(y = series, by = "Codigo comuna", all.y = TRUE)
View(series)
View(df)
library(dplyr) # tidyverse
library(tidyr)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("day", "cases",-1)
df = minsal %>% select(Region,"Codigo region",Comuna,"Codigo comuna",Poblacion,Tasa) %>%
merge(y = series, by = "Codigo comuna", all.y = TRUE)
install.packages("dygraphs")
library(dygraphs) # plot
lungDeaths <- cbind(mdeaths, fdeaths)
View(lungDeaths)
dygraph(lungDeaths)
dygraph(lungDeaths)
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
class(lungDeaths)
type(mdeaths)
class(mdeaths)
install.packages("tsbox")
library(tsbox)
View(df)
head(df)
View(lungDeaths)
str(mdeaths)
str(df)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,"Codigo region",Comuna,"Codigo comuna",Poblacion,Tasa) %>%
merge(y = series, by = "Codigo comuna", all.y = TRUE)
str(df)
unique(df$date)
length(unique(df$date))
date <- as.Date(unique(df$date), "%d-%m-%Y")
date
date <- as.Date(df$date, "%d-%m-%Y")
unique(df$date)
class(unique(df$date))
date <- as.Date(df$date, "%d-%m-%Y")
date
date <- as.Date(df$date, "%d-%m-%Y")
date
date <- as.Date(df$date, "%Y-%m-%d")
date
date <- as.Date(unique(df$date), "%Y-%m-%d")
date
str(df)
library(xts)
library(xts)
ts = df %>% filter(cod_comuna == "Codigo comuna") %>% select(date,cases) %>% arrange(date)
cod_comuna = 1101
ts = df %>% filter(cod_comuna == "Codigo comuna") %>% select(date,cases) %>% arrange(date)
View(ts)
cod_comuna = 1101
ts = df %>% filter(cod_comuna == "Codigo comuna") %>% select(date,cases)
cod_comuna = 1101
ts = df %>% filter("Codigo comuna" == cod_comuna) %>% select(date,cases)
ts = df %>% filter("Codigo comuna" == 1101) %>% select(date,cases)
str(df)
date <- as.Date(unique(df$date), "%Y-%m-%d")
date
ts = df %>% filter("Codigo comuna" == 1101)
str(df)
cod_comuna = 1101
ts = df %>% filter("Codigo comuna" %in% 1101)
cod_comuna = 1101
ts = df %>% filter("Codigo comuna" %in% (1101))
df$"Codigo comuna" <- as.numeric(df$"Codigo comuna")
class(df)
str(df)
cod_comuna = 1101
ts = df %>% filter("Codigo comuna" == 1101)
View(ts)
ts = df %>% filter(cases == 18)
# library(shiny)
#install.packages("tidyverse")
#install.packages("dygraphs")
#install.packages("tsbox")
library(dplyr) # tidyverse
library(tidyr) # gather()
library(dygraphs) # plot
library(xts)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,cod_reg="Codigo region",Comuna,cod_com="Codigo comuna",Poblacion,Tasa) %>%
merge(y = series, by = "Codigo comuna", all.y = TRUE)
#df$"Codigo comuna" <- as.numeric(df$"Codigo comuna")
#class(df)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
series = minsal %>%
select(-Region,-"Codigo region",-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,cod_reg="Codigo region",Comuna,cod_com="Codigo comuna",Poblacion,Tasa) %>%
merge(y = series, by = "Codigo comuna", all.y = TRUE)
df = minsal %>% select(Region,cod_reg="Codigo region",Comuna,cod_com="Codigo comuna",Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
minsal = my_data %>% rename(cod_reg="Codigo region",cod_com="Codigo comuna")
series = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
#df$"Codigo comuna" <- as.numeric(df$"Codigo comuna")
#class(df)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
minsal = minsal %>% rename(cod_reg="Codigo region",cod_com="Codigo comuna")
series = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
str(df)
cod_comuna = 1101
ts = df %>% filter(cod_com == cod_comuna)
View(ts)
cod_comuna = 1101
ts = df %>% filter(cod_com == cod_comuna) %>% select(date,cases) %>% arrange(date)
View(ts)
str(df)
df$date <- as.Date(unique(df$date), "%Y-%m-%d")
str(df)
cod_comuna = 1101
ts = df %>% filter(cod_com == cod_comuna) %>% select(date,cases) %>% arrange(date)
View(ts)
cod_comuna = 1101
ts = df %>% filter(cod_com == cod_comuna) %>% select(date,cases) %>% arrange(date)
ts = xts(ts$cases,ts$date)
View(ts)
str(ts)
dygraph(ts)
View(series)
ts = series %>% spread(cod_com,cases)
View(ts)
ts = series %>% spread(cod_com,cases) %>% arrange(date)
dygraph(xts(ts$1101,ts$date))
dygraph(xts(ts$"1101",ts$date))
ts["1101"]
ts$"1101"
dygraph(xts(ts["1101"],ts[date]))
ts1 = xts(ts["1101"],ts[date])
class(ts["1101"])
class(ts$"1101")
ts1 = xts(ts$"1101",ts$date)
class(ts$date)
df$date <- as.Date(unique(df$date), "%Y-%m-%d")
class(ts$date)
xts(ts)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8") %>%
rename(cod_reg="Codigo region",cod_com="Codigo comuna")
View(minsal)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8") %>%
rename(cod_reg="Codigo region",cod_com="Codigo comuna") %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1) %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8") %>%
rename(cod_reg="Codigo region",cod_com="Codigo comuna")
casos = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
series = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
View(series)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8") %>%
rename(cod_reg="Codigo region",cod_com="Codigo comuna")
series = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
df = minsal %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
df = minsal %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
View(df)
ts = series %>% spread(cod_com,cases) %>% arrange(date)
View(df)
View(series)
series = series %>% spread(cod_com,cases) %>% arrange(date)
View(series)
str(series)
class(series$date)
series$date <- as.Date(series$date, "%Y-%m-%d")
class(series$date)
casos = series$"1101"
date = series$date
df = minsal %>% select(Region,cod_reg,Comuna,cod_com,Poblacion,Tasa) %>%
merge(y = series, by = "cod_com", all.y = TRUE)
View(df)
minsal = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8") %>%
rename(cod_reg="Codigo region",cod_com="Codigo comuna")
series = minsal %>%
select(-Region,-cod_reg,-Comuna,-Poblacion,-Tasa) %>%
gather("date", "cases",-1)
series = series %>% spread(cod_com,cases) %>% arrange(date)
series$date <- as.Date(series$date, "%Y-%m-%d")
class(series$date)
casos = series$"1101"
date = series$date
ts = xts(casos,date)
dygraph(ts)
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
library(xts)
library(xts)
mcData <- xts(mktCap, date)
mcData
dygraph(ts)
View(ts)
mdeaths
str(mdeaths)
str(ts)
casos = series$"1101"
date = series$date
data = xts(casos,date)
dygraph(data)
casos = series$"1101"
date = series$date
data = ts(casos,date)
dygraph(data)
casos = series$"1101"
date = series$date
ts = xts(casos,date)
dygraph(ts)
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
dygraph(ts)
View(lungDeaths)
View(minsal)
View(minsal)
dygraph(lungDeaths) %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE) %>%
dyRangeSelector(height = 20)
dygraph(lungDeaths) %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyRangeSelector(height = 20)
dygraph(lungDeaths) %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE)
dygraph(lungDeaths, main = "Deaths from Lung Disease (UK)") %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE)
dygraph(ts)
dygraph(lungDeaths, main = "Deaths from Lung Disease (UK)") %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE) %>%
dyCSS("dygraph.css")
dygraph(lungDeaths, main = "Deaths from Lung Disease (UK)") %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE) %>%
dyCSS("styles.css")
dygraph(ts, main = "Deaths from Lung Disease (UK)") %>%
dySeries("mdeaths", label = "Male") %>%
dySeries("fdeaths", label = "Female") %>%
dyOptions(stackedGraph = TRUE) %>%
dyCSS("styles.css")
dygraph(ts, main = "Deaths from Lung Disease (UK)") %>%
dyOptions(stackedGraph = TRUE) %>%
dyCSS("styles.css")
df = read.csv("https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto1/Covid-19.csv",
check.names = FALSE,
encoding="UTF-8")
dygraph(ts, main = "Deaths from Lung Disease (UK)") %>%
dyOptions(stackedGraph = TRUE) %>%
dyCSS("styles.css")
df = read.csv("https://raw.githubusercontent.com/fgreve/PennWorldTable9.1/master/pwt91.csv")
View(df)
colnames(df)
pwt = read.csv("https://raw.githubusercontent.com/fgreve/PennWorldTable9.1/master/pwt91.csv")
colnames(df)
df = pwt %>% select(country,year,pop)
rm(pwt)
library(dplyr) # tidyverse
pwt = read.csv("https://raw.githubusercontent.com/fgreve/PennWorldTable9.1/master/pwt91.csv")
df = pwt %>% select(country,year,pop)
rm(pwt)
getwd()
library(rstudioapi)
current_path <- getActiveDocumentContext()$path
setwd(dirname(current_path))
print(getwd())
library(shiny)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(df)
View(df)
runApp()
min(df$year)
max(df$year)
View(df)
head(year)
head(year)
head(df)
summarise(df)
summary(df)
df$year = as.integer(df$year)
summary(df)
pwt = read.csv("https://raw.githubusercontent.com/fgreve/PennWorldTable9.1/master/pwt91.csv")
df = pwt %>% select(country,year,pop)
df$year = as.integer(df$year)
min(df$year)
max(df$year)
View(df)
max(df$year, na.rm = TRUE)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
min(df$year, na.rm = TRUE)
class(min(df$year, na.rm = TRUE))
class(max(df$year, na.rm = TRUE))
runApp()
